{"version":3,"file":"static/js/822.3406f7cd.chunk.js","mappings":"gPAwEA,UArDgB,WACd,IAAAA,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACdI,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAAUF,EAAAA,EAAAA,IAAYG,EAAAA,IACtBC,GAAaJ,EAAAA,EAAAA,IAAYK,EAAAA,IACzBC,GAASN,EAAAA,EAAAA,IAAYO,EAAAA,IACrBC,GAAMC,EAAAA,EAAAA,UA+BZ,OA7BAC,EAAAA,EAAAA,YAAU,WACRb,GAASc,EAAAA,EAAAA,IAAa,GACxB,GAAG,CAACd,KA4BFe,EAAAA,EAAAA,MAAA,WAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAAAF,SAAC,iBACbC,EAAAA,EAAAA,KAACE,EAAAA,EAAM,CAACC,WAAW,IACF,IAAhBlB,EAAKmB,SACJJ,EAAAA,EAAAA,KAACK,EAAAA,EAAU,CAACX,IAAKA,EAAKT,KAAMA,EAAMqB,gBAbxC,SAAyBC,EAAKC,GAE1BzB,EADEyB,GACOC,EAAAA,EAAAA,IAAmBF,EAAIG,KAEvBC,EAAAA,EAAAA,IAAcJ,GAE3B,KASMnB,GACgB,IAAhBH,EAAKmB,QACLnB,EAAKmB,OAAS,KAAO,GACrBnB,EAAKmB,OAAS,KAAMJ,EAAAA,EAAAA,KAACY,EAAAA,EAAW,CAACC,WAnCvC,WACE,IAAMC,EAAWjC,EAAO,EAExB,GADAC,EAAQgC,GACHxB,EAEE,CACL,IAAMyB,GAAYC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQxB,GAAM,IAAEX,KAAMiC,IACxC/B,GAASkC,EAAAA,EAAAA,IAAcF,GACzB,MAJEhC,GAASmC,EAAAA,EAAAA,IAASJ,IAKpBK,YAAW,WACTC,OAAOC,SAAS,CACdC,IAAK,IACLC,SAAU,UAEd,GAAG,IACL,MAuBF,C","sources":["pages/Catalog/Catalog.jsx"],"sourcesContent":["import CarGallery from 'components/CarGallery/CarGallery';\nimport Filter from 'components/Filter/Filter';\nimport LoadMoreBtn from 'components/LoadMoreBtn/LoadMoreBtn';\nimport { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchAdverts,\n  fetchFiltered,\n  loadMore,\n} from 'redux/carRent/operations';\nimport {\n  selectCars,\n  selectFilter,\n  selectIsFiltered,\n  selectLoading,\n} from 'redux/carRent/selectors';\nimport { addToFavorite, removeFromFavorite } from 'redux/carRent/slice';\nimport { HiddenTitle } from 'styles/commonStyled';\n\nconst Catalog = () => {\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const cars = useSelector(selectCars);\n  const loading = useSelector(selectLoading);\n  const isFiltered = useSelector(selectIsFiltered);\n  const filter = useSelector(selectFilter);\n  const ref = useRef();\n\n  useEffect(() => {\n    dispatch(fetchAdverts(1));\n  }, [dispatch]);\n\n  function onLoadMore() {\n    const nextPage = page + 1;\n    setPage(nextPage);\n    if (!isFiltered) {\n      dispatch(loadMore(nextPage));\n    } else {\n      const filterParams = { ...filter, page: nextPage };\n      dispatch(fetchFiltered(filterParams));\n    }\n    setTimeout(() => {\n      window.scrollBy({\n        top: 600,\n        behavior: 'smooth',\n      });\n    }, 500);\n  }\n\n  function onFavoriteClick(car, favorite) {\n    if (favorite) {\n      dispatch(removeFromFavorite(car.id));\n    } else {\n      dispatch(addToFavorite(car));\n    }\n  }\n\n  return (\n    <section>\n      <HiddenTitle>Car Catalog</HiddenTitle>\n      <Filter isCatalog={true} />\n      {cars.length !== 0 && (\n        <CarGallery ref={ref} cars={cars} onFavoriteClick={onFavoriteClick} />\n      )}\n      {!loading &&\n        cars.length !== 0 &&\n        cars.length % 12 === 0 &&\n        cars.length < 32 && <LoadMoreBtn onLoadMore={onLoadMore} />}\n    </section>\n  );\n};\n\nexport default Catalog;\n"],"names":["_useState","useState","_useState2","_slicedToArray","page","setPage","dispatch","useDispatch","cars","useSelector","selectCars","loading","selectLoading","isFiltered","selectIsFiltered","filter","selectFilter","ref","useRef","useEffect","fetchAdverts","_jsxs","children","_jsx","HiddenTitle","Filter","isCatalog","length","CarGallery","onFavoriteClick","car","favorite","removeFromFavorite","id","addToFavorite","LoadMoreBtn","onLoadMore","nextPage","filterParams","_objectSpread","fetchFiltered","loadMore","setTimeout","window","scrollBy","top","behavior"],"sourceRoot":""}