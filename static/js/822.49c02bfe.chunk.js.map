{"version":3,"file":"static/js/822.49c02bfe.chunk.js","mappings":"gPAiEA,UA9CgB,WACd,IAAAA,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACdI,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAAUF,EAAAA,EAAAA,IAAYG,EAAAA,IACtBC,GAAaJ,EAAAA,EAAAA,IAAYK,EAAAA,IACzBC,GAASN,EAAAA,EAAAA,IAAYO,EAAAA,IAyB3B,OAvBAC,EAAAA,EAAAA,YAAU,WACRX,GAASY,EAAAA,EAAAA,IAAa,GACxB,GAAG,CAACZ,KAsBFa,EAAAA,EAAAA,MAAA,WAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAAAF,SAAC,iBACbC,EAAAA,EAAAA,KAACE,EAAAA,EAAM,CAACC,WAAW,IACF,IAAhBhB,EAAKiB,SACJJ,EAAAA,EAAAA,KAACK,EAAAA,EAAU,CAAClB,KAAMA,EAAMmB,gBAb9B,SAAyBC,EAAKC,GAE1BvB,EADEuB,GACOC,EAAAA,EAAAA,IAAmBF,EAAIG,KAEvBC,EAAAA,EAAAA,IAAcJ,GAE3B,KASMjB,GACgB,IAAhBH,EAAKiB,QACLjB,EAAKiB,OAAS,KAAO,GACrBjB,EAAKiB,OAAS,KAAMJ,EAAAA,EAAAA,KAACY,EAAAA,EAAW,CAACC,WA7BvC,WACE,IAAMC,EAAW/B,EAAO,EAExB,GADAC,EAAQ8B,GACHtB,EAEE,CACL,IAAMuB,GAAQC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQtB,GAAM,IAAEX,KAAM+B,IACpC7B,GAASgC,EAAAA,EAAAA,IAAcF,GACzB,MAJE9B,GAASiC,EAAAA,EAAAA,IAASJ,GAKtB,MAuBF,C","sources":["pages/Catalog/Catalog.jsx"],"sourcesContent":["import CarGallery from 'components/CarGallery/CarGallery';\nimport Filter from 'components/Filter/Filter';\nimport LoadMoreBtn from 'components/LoadMoreBtn/LoadMoreBtn';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchAdverts,\n  fetchFiltered,\n  loadMore,\n} from 'redux/carRent/operations';\nimport {\n  selectCars,\n  selectFilter,\n  selectIsFiltered,\n  selectLoading,\n} from 'redux/carRent/selectors';\nimport { addToFavorite, removeFromFavorite } from 'redux/carRent/slice';\nimport { HiddenTitle } from 'styles/commonStyled';\n\nconst Catalog = () => {\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const cars = useSelector(selectCars);\n  const loading = useSelector(selectLoading);\n  const isFiltered = useSelector(selectIsFiltered);\n  const filter = useSelector(selectFilter);\n\n  useEffect(() => {\n    dispatch(fetchAdverts(1));\n  }, [dispatch]);\n\n  function onLoadMore() {\n    const nextPage = page + 1;\n    setPage(nextPage);\n    if (!isFiltered) {\n      dispatch(loadMore(nextPage));\n    } else {\n      const DataLoad = { ...filter, page: nextPage };\n      dispatch(fetchFiltered(DataLoad));\n    }\n  }\n\n  function onFavoriteClick(car, favorite) {\n    if (favorite) {\n      dispatch(removeFromFavorite(car.id));\n    } else {\n      dispatch(addToFavorite(car));\n    }\n  }\n\n  return (\n    <section>\n      <HiddenTitle>Car Catalog</HiddenTitle>\n      <Filter isCatalog={true} />\n      {cars.length !== 0 && (\n        <CarGallery cars={cars} onFavoriteClick={onFavoriteClick} />\n      )}\n      {!loading &&\n        cars.length !== 0 &&\n        cars.length % 12 === 0 &&\n        cars.length < 32 && <LoadMoreBtn onLoadMore={onLoadMore} />}\n    </section>\n  );\n};\n\nexport default Catalog;\n"],"names":["_useState","useState","_useState2","_slicedToArray","page","setPage","dispatch","useDispatch","cars","useSelector","selectCars","loading","selectLoading","isFiltered","selectIsFiltered","filter","selectFilter","useEffect","fetchAdverts","_jsxs","children","_jsx","HiddenTitle","Filter","isCatalog","length","CarGallery","onFavoriteClick","car","favorite","removeFromFavorite","id","addToFavorite","LoadMoreBtn","onLoadMore","nextPage","DataLoad","_objectSpread","fetchFiltered","loadMore"],"sourceRoot":""}